<div class="errorBox" ng-show="error">
	{{error}}
</div>
<div style="margin-top: 0.2em; text-align: justify; font-size: 15pt;">
		<span ng-show="filter">
			<a ng-href="#/get/{{id}}">{{title}}</a> » Filtering by {{filter}}
		</span> 
		<span ng-show="!filter">
			{{title}}
		</span>
		<div style="font-size: 9pt;" ng-show="tags.length > 0">
			<ul class="inlineList tag-list">
				<li ng-repeat="tag in tags">
					<a ng-href="#/threads/{{tag}}">{{tag}}</a>
				</li>
			</ul>
		</div>
</div>
<ul>
	<li ng-show="next">
		<div class="prevNext">
			<div class="clickyBox littleButton" ng-click="_bottom()">
				↓ Bottom
			</div>
			<!--
			<div class="clickyBox littleButton" ng-click="reply()">
				新 Newest
			</div>
			-->
			<div class="clickyBox littleButton" ng-click="reply()">
				&#x270e; Reply
			</div>
		</div>
	</li>
	<li ng-repeat="message in messages">
		<div class="messageTop" ng-init="canFilter=currentServer.supports('filter')">
			<span ng-show="canFilter">
				<a ng-href="#/get/{{id}}/{{message.user_id || message.user}}" style="text-decoration: none;">{{message.user}}</a>
			</span>
			<span ng-show="!canFilter">
				{{message.user}}
			</span>
			<span class="pull-right">
				{{message.date | ago}}
			</span>
		</div>
		<div style="margin-top: 0.2em; margin-bottom: 0.2em;" ng-show="!message.body">
		</div>
		<div class="clickyBox" ng-if="message.body">
			<span ng-if="format == 'html'" ng-bind-html-unsafe="message.body"></span>
			<span ng-if="format == 'markdown'"><markdown ng-model="message.body"></markdown></span>
			<span ng-if="format == 'text' || !format">{{message.body}}</span>
		</div>
	</li>
	<li ng-show="!messages || messages.length == 0">
		<div class="clickyBox" ng-click="loadMore()">
			Loading...
		</div>
	</li>
	<li ng-show="next">
		<div class="prevNext">
			<div class="clickyBox littleButton" ng-click="loadMore()">
				→ More
			</div>
			<div class="clickyBox littleButton" ng-if="hasUnread()" ng-click="loadUnread()">
				⇢ Unread
			</div>
			<div class="clickyBox littleButton" ng-click="loadAll()">
				⇉ All
			</div>
		</div>
	</li>
	<li ng-show="!closed">
		<div class="clickyBox" ng-click="reply()">
			&#x270e; Reply
		</div>
	</li>
	<li ng-show="closed">
		<div class="clickyBox">
			Thread is closed, can't reply.
		</div>
	</li>
</ul>
